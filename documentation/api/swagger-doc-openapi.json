{"openapi":"3.1.0","info":{"title":"Lawly User API","version":"0.1.0"},"paths":{"/api/v1/templates":{"get":{"tags":["Шаблоны"],"summary":"Получение доступных шаблонов","description":"Получение доступных шаблонов документов с возможностью поиска","operationId":"get_templates_api_v1_templates_get","parameters":[{"name":"query","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Поисковый запрос","title":"Query"},"description":"Поисковый запрос"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Максимум результатов (по умолчанию 20)","default":20,"title":"Limit"},"description":"Максимум результатов (по умолчанию 20)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Смещение для пагинации","default":0,"title":"Offset"},"description":"Смещение для пагинации"}],"responses":{"200":{"description":"Список шаблонов документов","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetTemplatesResponseDTO"}}}},"422":{"description":"Ошибка валидации данных"}}}},"/api/v1/templates/{template_id}":{"get":{"tags":["Шаблоны"],"summary":"Получение информации о шаблоне","description":"Получение детальной информации о шаблоне, включая структуру полей","operationId":"get_template_info_api_v1_templates__template_id__get","parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"integer","title":"Template Id"}}],"responses":{"200":{"description":"Информация о шаблоне","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateInfoDto"}}}},"422":{"description":"Ошибка валидации данных"},"404":{"description":"Шаблон не найден"}}}},"/api/v1/templates/{template_id}/download":{"get":{"tags":["Шаблоны"],"summary":"Получение ссылки на скачивание шаблона","description":"Скачивание документа по указанному шаблону (для неавторизованных пользователей)","operationId":"download_template_api_v1_templates__template_id__download_get","parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"integer","description":"Идентификатор шаблона для загрузки","title":"Template Id"},"description":"Идентификатор шаблона для загрузки"}],"responses":{"200":{"description":"Ссылка на скачивание шаблона","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateDownloadDTO"}}}},"422":{"description":"Ошибка валидации данных"},"404":{"description":"Шаблон не найден"}}}},"/api/v1/templates/custom":{"post":{"tags":["Шаблоны"],"summary":"Создание кастомного шаблона","description":"Создание документа на основе описания ситуации пользователем","operationId":"create_custom_template_api_v1_templates_custom_post","security":[{"JWTBearer":[]}],"parameters":[{"name":"description","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Описание шаблона","title":"Description"},"description":"Описание шаблона"}],"responses":{"201":{"description":"Документ успешно создан","content":{"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"schema":{"type":"string","format":"binary"}}}},"422":{"description":"Ошибка валидации данных"},"400":{"description":"Ошибка создания кастомного шаблона"},"403":{"description":"Нет доступа к ресурсу"}}}},"/api/v1/documents/create":{"post":{"tags":["Документы"],"summary":"Начало процесса создания документа","description":"Регистрация начала процесса создания документа пользователем","operationId":"create_document_api_v1_documents_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentCreateDto"}}},"required":true},"responses":{"201":{"description":"Документ успешно создан","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentCreationResponseDTO"}}}},"422":{"description":"Ошибка валидации данных"},"403":{"description":"Нет доступа к ресурсу"}},"security":[{"JWTBearer":[]}]}},"/api/v1/documents/update/{document_creation_id}":{"put":{"tags":["Документы"],"summary":"Обновление статуса создания документа","description":"Обновление статуса создания документа пользователем","operationId":"update_document_api_v1_documents_update__document_creation_id__put","security":[{"JWTBearer":[]}],"parameters":[{"name":"document_creation_id","in":"path","required":true,"schema":{"type":"integer","title":"Document Creation Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentCreationUpdateDTO"}}}},"responses":{"200":{"description":"Документ успешно обновлен","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentCreationResponseDTO"}}}},"422":{"description":"Ошибка валидации данных"},"404":{"description":"Документ не найден у данного пользователя"},"403":{"description":"Нет доступа к ресурсу"}}}},"/api/v1/documents":{"get":{"tags":["Документы"],"summary":"Получение списка базовых документов пользователя","description":"Получение списка базовых документов (паспорт, СНИЛС и т.д.)","operationId":"get_documents_api_v1_documents_get","responses":{"200":{"description":"Список документов","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/modules__documents__dto__DocumentDto"},"type":"array","title":"Response 200 Get Documents Api V1 Documents Get"}}}},"422":{"description":"Ошибка валидации данных"},"403":{"description":"Нет доступа к ресурсу"}},"security":[{"JWTBearer":[]}]}},"/api/v1/documents/document-structure/{document_id}":{"get":{"tags":["Документы"],"summary":"Получение структуры документа","description":"Получение информации о полях для документа","operationId":"get_document_structure_api_v1_documents_document_structure__document_id__get","security":[{"JWTBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"integer","title":"Document Id"}}],"responses":{"200":{"description":"Структура документа","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentStructureDTO"}}}},"422":{"description":"Ошибка валидации данных"},"404":{"description":"Документ не найден"},"403":{"description":"Нет доступа к ресурсу"}}}},"/api/v1/documents/improve-text":{"post":{"tags":["Документы"],"summary":"Улучшение текста","description":"Преобразование обычного текста в юридический формат","operationId":"improve_text_api_v1_documents_improve_text_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImproveTextDTO"}}},"required":true},"responses":{"200":{"description":"Текст успешно преобразован","content":{"application/json":{"schema":{"$ref":"#/components/schemas/modules__documents__dto__DocumentDto"}}}},"422":{"description":"Ошибка валидации данных"},"400":{"description":"Ошибка при улучшении текста"},"403":{"description":"Нет доступа к ресурсу"}},"security":[{"JWTBearer":[]}]}},"/api/v1/documents/generate":{"post":{"tags":["Документы"],"summary":"Generate Document","description":"Генерация документа","operationId":"generate_document_api_v1_documents_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateDocumentDTO"}}},"required":true},"responses":{"200":{"description":"Документ успешно создан","content":{"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"schema":{"type":"string","format":"binary"}}}},"422":{"description":"Ошибка валидации данных"},"400":{"description":"Ошибка при создании документа"},"403":{"description":"Нет доступа к ресурсу"}},"security":[{"JWTBearer":[]}]}}},"components":{"schemas":{"DocumentCreateDto":{"properties":{"template_id":{"type":"integer","title":"Template Id","description":"ID шаблона документа"},"custom_name":{"type":"string","title":"Custom Name","description":"Кастомное имя документа"}},"type":"object","required":["template_id","custom_name"],"title":"DocumentCreateDto"},"DocumentCreationResponseDTO":{"properties":{"id":{"type":"integer","title":"Id","description":"ID документа"},"custom_name":{"type":"string","title":"Custom Name","description":"Название документа"},"user_id":{"type":"integer","title":"User Id","description":"ID пользователя, создающего документ"},"template_id":{"type":"integer","title":"Template Id","description":"ID шаблона документа"},"status":{"$ref":"#/components/schemas/DocumentStatusEnum","description":"Статус документа"},"start_date":{"type":"string","format":"date-time","title":"Start Date","description":"Дата создания документа"},"end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Date","description":"Дата завершения документа"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Сообщение об ошибке"}},"type":"object","required":["id","custom_name","user_id","template_id","status","start_date"],"title":"DocumentCreationResponseDTO"},"DocumentCreationUpdateDTO":{"properties":{"status":{"$ref":"#/components/schemas/DocumentStatusEnum","description":"Статус документа"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Сообщение об ошибке"}},"type":"object","required":["status"],"title":"DocumentCreationUpdateDTO"},"DocumentStatusEnum":{"type":"string","enum":["started","completed","error","processing"],"title":"DocumentStatusEnum"},"DocumentStructureDTO":{"properties":{"id":{"type":"integer","title":"Id","description":"ID документа"},"name":{"type":"string","title":"Name","description":"Название документа"},"name_ru":{"type":"string","title":"Name Ru","description":"Название документа на русском"},"link":{"type":"string","title":"Link","description":"Ссылка на документ"},"description":{"type":"string","title":"Description","description":"Описание документа"},"fields":{"items":{"$ref":"#/components/schemas/modules__documents__dto__FieldDTO"},"type":"array","title":"Fields","description":"Поля документа"}},"type":"object","required":["id","name","name_ru","link","description","fields"],"title":"DocumentStructureDTO"},"GenerateDocumentDTO":{"properties":{"template_id":{"type":"integer","title":"Template Id","description":"ID шаблона документа"},"fields":{"items":{"$ref":"#/components/schemas/GenerateDocumentFieldDTO"},"type":"array","title":"Fields","description":"Поля документа"}},"type":"object","required":["template_id","fields"],"title":"GenerateDocumentDTO"},"GenerateDocumentFieldDTO":{"properties":{"name":{"type":"string","title":"Name","description":"Название поля"},"value":{"type":"string","title":"Value","description":"Значение поля"}},"type":"object","required":["name","value"],"title":"GenerateDocumentFieldDTO"},"GetTemplatesResponseDTO":{"properties":{"total":{"type":"integer","title":"Total","description":"Общее количество доступных шаблонов"},"templates":{"items":{"$ref":"#/components/schemas/TemplateDTO"},"type":"array","title":"Templates","description":"Список доступных шаблонов"}},"type":"object","required":["total","templates"],"title":"GetTemplatesResponseDTO"},"ImproveTextDTO":{"properties":{"text":{"type":"string","title":"Text","description":"Текст для улучшения"}},"type":"object","required":["text"],"title":"ImproveTextDTO"},"ImprovedTextResponseDTO":{"properties":{"improved_text":{"type":"string","title":"Improved Text","description":"Улучшенный текст"}},"type":"object","required":["improved_text"],"title":"ImprovedTextResponseDTO"},"TemplateDTO":{"properties":{"id":{"type":"integer","title":"Id","description":"Id шаблона"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id","description":"Id пользователя, которому принадлежит шаблон(для кастомных шаблонов)"},"name":{"type":"string","title":"Name","description":"Название шаблона"},"name_ru":{"type":"string","title":"Name Ru","description":"Название шаблона на русском"},"description":{"type":"string","title":"Description","description":"Описание шаблона"},"image_url":{"type":"string","title":"Image Url","description":"URL шаблона документа"},"download_url":{"type":"string","title":"Download Url","description":"URL для скачивания шаблона"}},"type":"object","required":["id","name","name_ru","description","image_url","download_url"],"title":"TemplateDTO"},"TemplateDownloadDTO":{"properties":{"download_url":{"type":"string","title":"Download Url","description":"URL для скачивания шаблона"}},"type":"object","required":["download_url"],"title":"TemplateDownloadDTO"},"TemplateInfoDto":{"properties":{"id":{"type":"integer","title":"Id","description":"Id шаблона"},"name":{"type":"string","title":"Name","description":"Название шаблона"},"name_ru":{"type":"string","title":"Name Ru","description":"Название шаблона на русском"},"description":{"type":"string","title":"Description","description":"Описание шаблона"},"image_url":{"type":"string","title":"Image Url","description":"URL шаблона документа"},"download_url":{"type":"string","title":"Download Url","description":"URL для скачивания шаблона"},"required_documents":{"items":{"$ref":"#/components/schemas/modules__templates__dto__DocumentDto"},"type":"array","title":"Required Documents","description":"Документы, связанные с шаблоном"},"custom_fields":{"items":{"$ref":"#/components/schemas/modules__templates__dto__FieldDTO"},"type":"array","title":"Custom Fields","description":"Поля, связанные с шаблоном"}},"type":"object","required":["id","name","name_ru","description","image_url","download_url","required_documents","custom_fields"],"title":"TemplateInfoDto"},"modules__documents__dto__DocumentDto":{"properties":{"id":{"type":"integer","title":"Id","description":"ID документа"},"name":{"type":"string","title":"Name","description":"Название документа"},"name_ru":{"type":"string","title":"Name Ru","description":"Название документа на русском"},"link":{"type":"string","title":"Link","description":"Ссылка на документ"},"description":{"type":"string","title":"Description","description":"Описание документа"}},"type":"object","required":["id","name","name_ru","link","description"],"title":"DocumentDto"},"modules__documents__dto__FieldDTO":{"properties":{"id":{"type":"integer","title":"Id","description":"ID поля"},"name":{"type":"string","maxLength":255,"title":"Name","description":"Название поля"},"name_ru":{"type":"string","maxLength":255,"title":"Name Ru","description":"Название поля на русском"},"type":{"type":"string","title":"Type","description":"Тип поля"}},"type":"object","required":["id","name","name_ru","type"],"title":"FieldDTO"},"modules__templates__dto__DocumentDto":{"properties":{"id":{"type":"integer","title":"Id","description":"Id документа"},"name":{"type":"string","title":"Name","description":"Название документа"},"name_ru":{"type":"string","title":"Name Ru","description":"Название документа на русском"},"description":{"type":"string","title":"Description","description":"Описание документа"},"fields":{"items":{"$ref":"#/components/schemas/modules__templates__dto__FieldDTO"},"type":"array","title":"Fields","description":"Поля документа"}},"type":"object","required":["id","name","name_ru","description","fields"],"title":"DocumentDto"},"modules__templates__dto__FieldDTO":{"properties":{"id":{"type":"integer","title":"Id","description":"ID поля"},"name_ru":{"type":"string","maxLength":255,"title":"Name Ru","description":"Название поля на русском"},"name":{"type":"string","maxLength":255,"title":"Name","description":"Название поля"},"type":{"type":"string","title":"Type","description":"Тип поля"}},"type":"object","required":["id","name_ru","name","type"],"title":"FieldDTO"}},"securitySchemes":{"JWTBearer":{"type":"http","scheme":"bearer"}}}}