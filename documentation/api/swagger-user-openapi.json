{"openapi":"3.1.0","info":{"title":"Lawly User API","version":"0.1.0"},"paths":{"/api/v1/register":{"post":{"tags":["Авторизация"],"summary":"Регистрация пользователя","description":"Создание нового аккаунта пользователя в системе","operationId":"register_api_v1_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserDTO"}}},"required":true},"responses":{"200":{"description":"Пользователь успешно зарегистрирован","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenResponseDTO"}}}},"409":{"description":"Пользователь с таким email уже существует"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/login":{"post":{"tags":["Авторизация"],"summary":"Авторизация пользователя","description":"Аутентификация существующего пользователя","operationId":"login_api_v1_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginUserDTO"}}},"required":true},"responses":{"200":{"description":"Успешная аутентификация","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenResponseDTO"}}}},"401":{"description":"Неверные учетные данные"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/refresh-tokens":{"post":{"tags":["Авторизация"],"summary":"Обновление токенов","description":"Обновление токенов доступа и обновления","operationId":"refresh_tokens_api_v1_refresh_tokens_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenModelDTO"}}},"required":true},"responses":{"200":{"description":"Токены успешно обновлены","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenResponseDTO"}}}},"403":{"description":"Неверные учетные данные"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/logout":{"post":{"tags":["Авторизация"],"summary":"Выход пользователя","description":"Завершение сессии пользователя (инвалидация токена)","operationId":"logout_api_v1_logout_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutDTO"}}},"required":true},"responses":{"202":{"description":"Успешный выход из системы","content":{"application/json":{"schema":{}}}},"403":{"description":"Неверные учетные данные"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"JWTBearer":[]}]}},"/api/v1/privacy-policy":{"get":{"tags":["Документы"],"summary":"Получение текста политики конфиденциальности","description":"Получение актуального текста политики конфиденциальности","operationId":"get_privacy_policy_api_v1_privacy_policy_get","responses":{"200":{"description":"Текст политики конфиденциальности","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivacyPolicyDTO"}}}}}}},"/api/v1/subscribe":{"get":{"tags":["Подписки"],"summary":"Получение информации о подписке у текущего пользователя","description":"Получение данных о текущей подписке и тарифном плане","operationId":"get_user_subscription_api_v1_subscribe_get","responses":{"200":{"description":"Информация о подписке","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserSubscriptionDTO"}}}},"422":{"description":"Ошибка валидации данных"},"403":{"description":"Нет доступа к подписке"},"404":{"description":"Подписка не найдена"}},"security":[{"JWTBearer":[]}]},"post":{"tags":["Подписки"],"summary":"Оформление подписки","description":"Получение данных о текущей подписке и тарифном плане","operationId":"subscribe_to_tariff_api_v1_subscribe_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionDTO"}}},"required":true},"responses":{"201":{"description":"Подписка успешно оформлена","content":{"application/json":{"schema":{}}}},"422":{"description":"Ошибка валидации данных"},"403":{"description":"Нет доступа к ресурсу"},"409":{"description":"Ошибка оформления подписки"}},"security":[{"JWTBearer":[]}]}},"/api/v1/tariffs":{"get":{"tags":["Подписки"],"summary":"Получение списка доступных тарифов","description":"Получение информации о всех доступных тарифных планах","operationId":"get_available_tariffs_api_v1_tariffs_get","responses":{"200":{"description":"Список тарифов","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/modules__subscribes__dto__TariffDTO"},"type":"array","title":"Response 200 Get Available Tariffs Api V1 Tariffs Get"}}}},"422":{"description":"Ошибка валидации данных"},"403":{"description":"Нет доступа к ресурсу"},"404":{"description":"Нет доступных тарифов"}}}},"/api/v1/user":{"get":{"tags":["Пользователи"],"summary":"Получение информации о текущем пользователе","description":"Получение данных профиля авторизованного пользователя","operationId":"get_current_user_info_api_v1_user_get","responses":{"200":{"description":"Данные пользователя","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfoDTO"}}}},"422":{"description":"Ошибка валидации данных"},"403":{"description":"Пользователь не найден"},"409":{"description":"У пользователя нет подписки"}},"security":[{"JWTBearer":[]}]}}},"components":{"schemas":{"AuthTokenResponseDTO":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["access_token","refresh_token"],"title":"AuthTokenResponseDTO"},"GetUserSubscriptionDTO":{"properties":{"tariff":{"$ref":"#/components/schemas/modules__subscribes__dto__TariffDTO"},"start_date":{"type":"string","format":"date-time","title":"Start Date"},"end_date":{"type":"string","format":"date-time","title":"End Date"},"count_lawyers":{"type":"integer","title":"Count Lawyers"},"consultations_total":{"type":"integer","title":"Consultations Total"},"consultations_used":{"type":"integer","title":"Consultations Used"},"can_user_ai":{"type":"boolean","title":"Can User Ai"},"can_create_custom_templates":{"type":"boolean","title":"Can Create Custom Templates"},"unlimited_documents":{"type":"boolean","title":"Unlimited Documents"}},"type":"object","required":["tariff","start_date","end_date","count_lawyers","consultations_total","consultations_used","can_user_ai","can_create_custom_templates","unlimited_documents"],"title":"GetUserSubscriptionDTO"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginUserDTO":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"device_id":{"type":"string","title":"Device Id"},"device_os":{"type":"string","title":"Device Os"},"device_name":{"type":"string","title":"Device Name"}},"type":"object","required":["email","password","device_id","device_os","device_name"],"title":"LoginUserDTO"},"LogoutDTO":{"properties":{"device_id":{"type":"string","title":"Device Id"},"refresh_token":{"type":"string","format":"uuid","title":"Refresh Token"}},"type":"object","required":["device_id","refresh_token"],"title":"LogoutDTO"},"PrivacyPolicyDTO":{"properties":{"content":{"type":"string","title":"Content"}},"type":"object","required":["content"],"title":"PrivacyPolicyDTO"},"RefreshTokenModelDTO":{"properties":{"device_id":{"type":"string","title":"Device Id"},"device_os":{"type":"string","title":"Device Os"},"device_name":{"type":"string","title":"Device Name"},"refresh_token":{"type":"string","format":"uuid","title":"Refresh Token"}},"type":"object","required":["device_id","device_os","device_name","refresh_token"],"title":"RefreshTokenModelDTO"},"RegisterUserDTO":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"name":{"type":"string","title":"Name"},"password":{"type":"string","title":"Password"},"device_id":{"type":"string","title":"Device Id"},"device_os":{"type":"string","title":"Device Os"},"device_name":{"type":"string","title":"Device Name"},"agree_to_terms":{"type":"boolean","title":"Agree To Terms"}},"type":"object","required":["email","name","password","device_id","device_os","device_name","agree_to_terms"],"title":"RegisterUserDTO"},"SubscriptionDTO":{"properties":{"tariff_id":{"type":"integer","title":"Tariff Id"}},"type":"object","required":["tariff_id"],"title":"SubscriptionDTO"},"TokenModelDTO":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["access_token","refresh_token"],"title":"TokenModelDTO"},"UserInfoDTO":{"properties":{"user_id":{"type":"integer","title":"User Id"},"tariff":{"$ref":"#/components/schemas/modules__users__dto__TariffDTO"},"start_date":{"type":"string","format":"date-time","title":"Start Date"},"end_date":{"type":"string","format":"date-time","title":"End Date"}},"type":"object","required":["user_id","tariff","start_date","end_date"],"title":"UserInfoDTO"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"modules__subscribes__dto__TariffDTO":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"features":{"items":{"type":"string"},"type":"array","title":"Features","default":[]},"price":{"type":"integer","title":"Price"},"consultations_count":{"type":"integer","title":"Consultations Count","default":0},"ai_access":{"type":"boolean","title":"Ai Access","default":false},"custom_templates":{"type":"boolean","title":"Custom Templates","default":false},"unlimited_docs":{"type":"boolean","title":"Unlimited Docs","default":false}},"type":"object","required":["id","name","price"],"title":"TariffDTO"},"modules__users__dto__TariffDTO":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"price":{"type":"integer","title":"Price"},"features":{"items":{"type":"string"},"type":"array","title":"Features"}},"type":"object","required":["id","name","description","price","features"],"title":"TariffDTO"}},"securitySchemes":{"JWTBearer":{"type":"http","scheme":"bearer"}}}}