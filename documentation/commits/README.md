# Регламент правил коммитов и работы с ветками

## 1. Структура веток

Наш стартап использует модель Gitflow для организации работы с кодом. Основные ветки:

- `master` - основная ветка, содержащая стабильный код, готовый к релизу/продакшн
- `development` - ветка разработки, куда сливаются все новые функциональности
- Ветки функциональностей (`feature/*`) - для разработки новых функций
- Ветки исправлений (`fix/*`) - для исправления ошибок

- Ветки быстрых исправлений (`hotfix/*`) - для срочных исправлений в продакшн

## 2. Правила именования коммитов

Все коммиты должны иметь префикс, определяющий тип изменения:

- `feature:` - добавление новой функциональности
- `fix:` - исправление ошибки
- `docs:` - изменения в документации
- `style:` - форматирование, отступы (не влияющие на логику)
- `refactor:` - рефакторинг кода
- `test:` - добавление или исправление тестов
- `chore:` - обновление зависимостей, конфигурации сборки и т.д.

Примеры правильных коммитов:
```
feature: добавить функцию авторизации через Google
fix: исправить ошибку валидации формы регистрации
refactor: оптимизировать запросы к базе данных
```

## 3. Рабочий процесс (Gitflow Workflow)

### 3.1 Разработка новой функциональности

1. Создать новую ветку от `development` с названием `feature/название-функциональности`
2. Выполнить разработку с регулярными коммитами
3. После завершения разработки, создать Pull Request в ветку `development`
4. После code review и успешного прохождения тестов, мержить ветку в `development`

### 3.2 Исправление ошибок

1. Создать новую ветку от `development` с названием `fix/описание-ошибки`
2. Исправить ошибку и сделать коммит
3. Создать Pull Request в ветку `development`
4. После code review и успешного прохождения тестов, мержить ветку в `development`

### 3.3 Подготовка релиза

1. Протестировать все изменения в ветке `development`
2. После успешного тестирования, создать Pull Request из `development` в `master`
3. После мержа в `master`, создать релиз на GitHub с соответствующим тегом и описанием изменений

### 3.4 Срочные исправления в продакшн

1. Создать новую ветку от `master` с названием `hotfix/описание-исправления`
2. Исправить ошибку и сделать коммит
3. После тестирования, мержить ветку в `master` и `development`
4. Обновить тег версии в ветке `master`

## 4. Правила Pull Request

1. Каждый Pull Request должен иметь понятное описание изменений
2. Все тесты должны успешно проходить
3. Необходимо получить хотя бы одно подтверждение (approval) от другого разработчика
4. CI-проверки должны быть успешными перед мержем

## 5. Code Review

1. Код должен соответствовать принятым стандартам кодирования
2. Любой Pull Request должен быть проверен другим разработчиком
3. Комментарии в Code Review должны быть конструктивными
4. Разработчик должен отвечать на комментарии и вносить необходимые изменения

## 6. Тестирование

1. Все изменения в ветке `development` должны проходить автоматизированное тестирование
2. Перед мержем в `master` проводится полное тестирование, включая регрессионное
3. Работа на продакшн запрещена без успешного прохождения всех тестов

## 7. Релизы на GitHub

1. Релизы создаются непосредственно на GitHub после мержа из `development` в `master`
2. Каждый релиз должен иметь семантическое версионирование (MAJOR.MINOR.PATCH)
3. В описании релиза необходимо указать все значимые изменения (чанглог)
4. При создании релиза на GitHub автоматически создается соответствующий тег в репозитории

---

Данный регламент является основой для работы с кодовой базой нашего стартапа и может быть дополнен или изменен по мере необходимости.